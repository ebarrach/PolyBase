{% extends "base.html" %}

{% block title %}Tableau de bord{% endblock %}

{% block extra_css %}
<!-- Feuille de style spécifique au tableau de bord -->
<link rel="stylesheet" href="../static/css/dashboard.css">
{% endblock %}

{% block content %}
<!-- Titre et message de bienvenue -->
<h2>Tableau de bord</h2>
<p>Bienvenue, {{ user.prenom }} {{ user.nom }} ({{ user.fonction }})</p>

<!-- Section de statistiques principales -->
<div class="stats">

    <!-- Carte : tâches en retard -->
    <div class="card">
        <h3>Tâches en retard</h3>
        <p id="tasks-retard">Chargement...</p>
    </div>

    <!-- Carte : heures dépassées -->
    <div class="card">
        <h3>Heures dépassées</h3>
        <p id="heures-depassees">Chargement...</p>
    </div>

    <!-- Carte : facturation -->
    <div class="card">
        <h3>État facturation</h3>
        <div id="facturation"></div>
    </div>

    <!-- Carte : tâches en cours de l'utilisateur -->
    <div class="card">
        <h3>Mes tâches en cours</h3>
        <ul id="mes-taches">Chargement...</ul>
    </div>

</div>
{% endblock %}

{% block extra_js %}
<!-- Script JS spécifique au tableau de bord -->
<script src="../static/js/dashboard.js"></script>
{% endblock %}
